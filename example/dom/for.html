<body>
  <div id="app" x-data='{"user": {"name": "Bob", "age": 30}, "items": ["apple", "banana", "cherry"]}'>
    <p x-text="user.name"></p>
    <p x-text="'Age: ' + user.age"></p>
    <ul>
      <template x-for="items">
        <li x-text></li>
      </template>
    </ul>
  </div>
</body>

<script type="module">
  import initCustomAttributes from '../../dom/x-directives.js';

  // 确保在DOM加载完成后初始化
  document.addEventListener('DOMContentLoaded', () => {
    initCustomAttributes();

    const app = document.getElementById('app');
    // 模拟数据变化
    setInterval(() => {
      app.$data.user.age++;
      app.$data.items.push('new item ' + app.$data.user.age);
    }, 2000);
  });
</script>
